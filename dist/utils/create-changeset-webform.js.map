{"version":3,"file":"create-changeset-webform.js","sources":["../../src/utils/create-changeset-webform.js"],"sourcesContent":["import createChangeset from './create-changeset';\nimport getWithDefaultUtil from './get-with-default';\nimport parseChangesetWebformField from './parse-changeset-webform-field';\nimport FormSettings from './form-settings';\n\nexport default function createChangesetWebform(\n  appDefaults,\n  formSchema,\n  data,\n  customValidators,\n  opts,\n) {\n  const formSchemaWithDefaults = getWithDefaultUtil(appDefaults, formSchema);\n  const parsedFields = formSchemaWithDefaults.fields.map((item) =>\n    parseChangesetWebformField(\n      item,\n      customValidators,\n      formSchemaWithDefaults.formSettings,\n    ),\n  );\n  const changeset = createChangeset(parsedFields, data, customValidators, opts);\n  parsedFields.forEach((field) => {\n    field.changeset = changeset;\n  });\n  return {\n    changeset: changeset,\n    fields: parsedFields,\n    formSettings: new FormSettings(formSchemaWithDefaults.formSettings),\n    formSchema: { ...formSchema },\n    formSchemaWithDefaults: { ...formSchemaWithDefaults },\n  };\n}\n"],"names":["createChangesetWebform","appDefaults","formSchema","data","customValidators","opts","formSchemaWithDefaults","getWithDefaultUtil","parsedFields","fields","map","item","parseChangesetWebformField","formSettings","changeset","createChangeset","forEach","field","FormSettings"],"mappings":";;;;;AAKe,SAASA,sBAAsBA,CAC5CC,WAAW,EACXC,UAAU,EACVC,IAAI,EACJC,gBAAgB,EAChBC,IAAI,EACJ;AACA,EAAA,MAAMC,sBAAsB,GAAGC,cAAkB,CAACN,WAAW,EAAEC,UAAU,CAAC;EAC1E,MAAMM,YAAY,GAAGF,sBAAsB,CAACG,MAAM,CAACC,GAAG,CAAEC,IAAI,IAC1DC,0BAA0B,CACxBD,IAAI,EACJP,gBAAgB,EAChBE,sBAAsB,CAACO,YACzB,CACF,CAAC;EACD,MAAMC,SAAS,GAAGC,eAAe,CAACP,YAAY,EAAEL,IAAI,EAAEC,gBAAgB,EAAEC,IAAI,CAAC;AAC7EG,EAAAA,YAAY,CAACQ,OAAO,CAAEC,KAAK,IAAK;IAC9BA,KAAK,CAACH,SAAS,GAAGA,SAAS;AAC7B,GAAC,CAAC;EACF,OAAO;AACLA,IAAAA,SAAS,EAAEA,SAAS;AACpBL,IAAAA,MAAM,EAAED,YAAY;AACpBK,IAAAA,YAAY,EAAE,IAAIK,YAAY,CAACZ,sBAAsB,CAACO,YAAY,CAAC;AACnEX,IAAAA,UAAU,EAAE;MAAE,GAAGA;KAAY;AAC7BI,IAAAA,sBAAsB,EAAE;MAAE,GAAGA;AAAuB;GACrD;AACH;;;;"}