{"version":3,"file":"power-select-checkboxes.js","sources":["../../../../src/components/ember-changeset-webforms/fields/power-select-checkboxes.js"],"sourcesContent":["import { action } from '@ember/object';\nimport Component from '@glimmer/component';\nimport { tracked } from '@glimmer/tracking';\nimport removeObject from '../../../utils/remove-object.js';\nimport 'ember-power-select/styles';\n\nexport default class PowerSelectCheckboxesComponent extends Component {\n  @tracked orderedOptions;\n  optionSelected(option) {\n    return (this.args.formField.fieldValue || []).includes(option);\n  }\n\n  @action\n  optionClicked(option) {\n    const formField = this.args.formField;\n    var currentlySelectedOptions = formField.fieldValue\n      ? [...formField.fieldValue] // To avoid mutating the original array\n      : [];\n    if (currentlySelectedOptions.indexOf(option) > -1) {\n      removeObject(currentlySelectedOptions, option);\n    } else {\n      currentlySelectedOptions.push(option);\n    }\n    this.args.onUserInteraction('optionClicked');\n    this.args.updateFieldValue(currentlySelectedOptions);\n  }\n\n  @action onOpen() {\n    this.orderedOptions = (this.args.formField.options || [])\n      .filter((option) => this.optionSelected(option))\n      .concat(\n        (this.args.formField.options || []).filter(\n          (option) => !this.optionSelected(option),\n        ),\n      );\n  }\n\n  @action\n  onkeydown(dropdown, e) {\n    // TODO what does this actually do?\n    if (e.keyCode === 13) {\n      // this.args.onPressEnter(e.target.value);\n    }\n  }\n}\n"],"names":["PowerSelectCheckboxesComponent","Component","g","prototype","tracked","i","void 0","optionSelected","option","args","formField","fieldValue","includes","optionClicked","currentlySelectedOptions","indexOf","removeObject","push","onUserInteraction","updateFieldValue","n","action","onOpen","orderedOptions","options","filter","concat","onkeydown","dropdown","e","keyCode","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;;;;;;AAMe,MAAMA,8BAA8B,SAASC,SAAS,CAAC;AAAA,EAAA;IAAAC,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,gBAAA,EAAA,CACnEC,OAAO,CAAA,CAAA;AAAA;AAAA,EAAA,eAAA,IAAAC,CAAA,CAAA,IAAA,EAAA,gBAAA,CAAA,EAAAC,SAAA;EACRC,cAAcA,CAACC,MAAM,EAAE;AACrB,IAAA,OAAO,CAAC,IAAI,CAACC,IAAI,CAACC,SAAS,CAACC,UAAU,IAAI,EAAE,EAAEC,QAAQ,CAACJ,MAAM,CAAC;AAChE;EAGAK,aAAaA,CAACL,MAAM,EAAE;AACpB,IAAA,MAAME,SAAS,GAAG,IAAI,CAACD,IAAI,CAACC,SAAS;AACrC,IAAA,IAAII,wBAAwB,GAAGJ,SAAS,CAACC,UAAU,GAC/C,CAAC,GAAGD,SAAS,CAACC,UAAU,CAAC;AAAC,MAC1B,EAAE;IACN,IAAIG,wBAAwB,CAACC,OAAO,CAACP,MAAM,CAAC,GAAG,EAAE,EAAE;AACjDQ,MAAAA,YAAY,CAACF,wBAAwB,EAAEN,MAAM,CAAC;AAChD,KAAC,MAAM;AACLM,MAAAA,wBAAwB,CAACG,IAAI,CAACT,MAAM,CAAC;AACvC;AACA,IAAA,IAAI,CAACC,IAAI,CAACS,iBAAiB,CAAC,eAAe,CAAC;AAC5C,IAAA,IAAI,CAACT,IAAI,CAACU,gBAAgB,CAACL,wBAAwB,CAAC;AACtD;AAAC,EAAA;IAAAM,CAAA,CAAA,IAAA,CAAAjB,SAAA,EAAA,eAAA,EAAA,CAbAkB,MAAM,CAAA,CAAA;AAAA;AAeCC,EAAAA,MAAMA,GAAG;IACf,IAAI,CAACC,cAAc,GAAG,CAAC,IAAI,CAACd,IAAI,CAACC,SAAS,CAACc,OAAO,IAAI,EAAE,EACrDC,MAAM,CAAEjB,MAAM,IAAK,IAAI,CAACD,cAAc,CAACC,MAAM,CAAC,CAAC,CAC/CkB,MAAM,CACL,CAAC,IAAI,CAACjB,IAAI,CAACC,SAAS,CAACc,OAAO,IAAI,EAAE,EAAEC,MAAM,CACvCjB,MAAM,IAAK,CAAC,IAAI,CAACD,cAAc,CAACC,MAAM,CACzC,CACF,CAAC;AACL;AAAC,EAAA;IAAAY,CAAA,CAAA,IAAA,CAAAjB,SAAA,EAAA,QAAA,EAAA,CARAkB,MAAM,CAAA,CAAA;AAAA;AAWPM,EAAAA,SAASA,CAACC,QAAQ,EAAEC,CAAC,EAAE;AACrB;AACA,IAAA,IAAIA,CAAC,CAACC,OAAO,KAAK,EAAE,EAAE;AAGxB;AAAC,EAAA;IAAAV,CAAA,CAAA,IAAA,CAAAjB,SAAA,EAAA,WAAA,EAAA,CANAkB,MAAM,CAAA,CAAA;AAAA;AAOT;AAACU,oBAAA,CAAAC,QAAA,EAtCoBhC,8BAA8B,CAAA;;;;"}