{"version":3,"file":"input.js","sources":["../../../../src/components/ember-changeset-webforms/fields/input.js"],"sourcesContent":["import { action } from '@ember/object';\nimport Component from '@glimmer/component';\n\nexport default class Input extends Component {\n  @action\n  onChange(event) {\n    this.args.updateFieldValue(event.target.value);\n  }\n\n  @action\n  onUserInteraction(eventName, event) {\n    const formField = this.args.formField;\n    if (\n      eventName === 'keyUp' &&\n      formField.fieldType === 'input' &&\n      event.keyCode === 13 &&\n      this.args.submitForm\n    ) {\n      formField.focussed = false;\n      this.args.submitForm(this.args.changesetWebform.changeset);\n      return;\n    }\n    let value = event.target.value;\n    this.args.onUserInteraction(eventName, value, event);\n    if (eventName === 'keyUp') {\n      this.args.updateFieldValue(value);\n    } else if (eventName === 'focusOut') {\n      formField.focussed = false;\n      if (\n        value &&\n        formField.trim &&\n        formField.inputType !== 'password' &&\n        typeof value === 'string'\n      ) {\n        value = value.trim();\n      }\n    } else if (eventName === 'focusIn') {\n      formField.focussed = true;\n    }\n    if (this.args.formField.validationErrors) {\n      this.element.setCustomValidity(\n        this.args.formField.validationErrors.join(','),\n      );\n    } else {\n      this.element.setCustomValidity('');\n    }\n  }\n\n  @action\n  didInsert(element) {\n    this.element = element;\n  }\n}\n"],"names":["Input","Component","onChange","event","args","updateFieldValue","target","value","n","prototype","action","onUserInteraction","eventName","formField","fieldType","keyCode","submitForm","focussed","changesetWebform","changeset","trim","inputType","validationErrors","element","setCustomValidity","join","didInsert","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;;;AAGe,MAAMA,KAAK,SAASC,SAAS,CAAC;EAE3CC,QAAQA,CAACC,KAAK,EAAE;IACd,IAAI,CAACC,IAAI,CAACC,gBAAgB,CAACF,KAAK,CAACG,MAAM,CAACC,KAAK,CAAC;AAChD;AAAC,EAAA;IAAAC,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,UAAA,EAAA,CAHAC,MAAM,CAAA,CAAA;AAAA;AAMPC,EAAAA,iBAAiBA,CAACC,SAAS,EAAET,KAAK,EAAE;AAClC,IAAA,MAAMU,SAAS,GAAG,IAAI,CAACT,IAAI,CAACS,SAAS;IACrC,IACED,SAAS,KAAK,OAAO,IACrBC,SAAS,CAACC,SAAS,KAAK,OAAO,IAC/BX,KAAK,CAACY,OAAO,KAAK,EAAE,IACpB,IAAI,CAACX,IAAI,CAACY,UAAU,EACpB;MACAH,SAAS,CAACI,QAAQ,GAAG,KAAK;AAC1B,MAAA,IAAI,CAACb,IAAI,CAACY,UAAU,CAAC,IAAI,CAACZ,IAAI,CAACc,gBAAgB,CAACC,SAAS,CAAC;AAC1D,MAAA;AACF;AACA,IAAA,IAAIZ,KAAK,GAAGJ,KAAK,CAACG,MAAM,CAACC,KAAK;IAC9B,IAAI,CAACH,IAAI,CAACO,iBAAiB,CAACC,SAAS,EAAEL,KAAK,EAAEJ,KAAK,CAAC;IACpD,IAAIS,SAAS,KAAK,OAAO,EAAE;AACzB,MAAA,IAAI,CAACR,IAAI,CAACC,gBAAgB,CAACE,KAAK,CAAC;AACnC,KAAC,MAAM,IAAIK,SAAS,KAAK,UAAU,EAAE;MACnCC,SAAS,CAACI,QAAQ,GAAG,KAAK;AAC1B,MAAA,IACEV,KAAK,IACLM,SAAS,CAACO,IAAI,IACdP,SAAS,CAACQ,SAAS,KAAK,UAAU,IAClC,OAAOd,KAAK,KAAK,QAAQ,EACzB;AACAA,QAAAA,KAAK,GAAGA,KAAK,CAACa,IAAI,EAAE;AACtB;AACF,KAAC,MAAM,IAAIR,SAAS,KAAK,SAAS,EAAE;MAClCC,SAAS,CAACI,QAAQ,GAAG,IAAI;AAC3B;AACA,IAAA,IAAI,IAAI,CAACb,IAAI,CAACS,SAAS,CAACS,gBAAgB,EAAE;AACxC,MAAA,IAAI,CAACC,OAAO,CAACC,iBAAiB,CAC5B,IAAI,CAACpB,IAAI,CAACS,SAAS,CAACS,gBAAgB,CAACG,IAAI,CAAC,GAAG,CAC/C,CAAC;AACH,KAAC,MAAM;AACL,MAAA,IAAI,CAACF,OAAO,CAACC,iBAAiB,CAAC,EAAE,CAAC;AACpC;AACF;AAAC,EAAA;IAAAhB,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,mBAAA,EAAA,CArCAC,MAAM,CAAA,CAAA;AAAA;EAwCPgB,SAASA,CAACH,OAAO,EAAE;IACjB,IAAI,CAACA,OAAO,GAAGA,OAAO;AACxB;AAAC,EAAA;IAAAf,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,WAAA,EAAA,CAHAC,MAAM,CAAA,CAAA;AAAA;AAIT;AAACiB,oBAAA,CAAAC,QAAA,EAjDoB5B,KAAK,CAAA;;;;"}