{"version":3,"file":"power-datepicker.js","sources":["../../../../src/components/ember-changeset-webforms/fields/power-datepicker.js"],"sourcesContent":["import { action } from '@ember/object';\nimport Component from '@glimmer/component';\nimport moment from 'moment';\nimport './power-datepicker.css';\n\nexport default class PowerDatepicker extends Component {\n  get timeSelectorFields() {\n    return (this.args.formField.timeSelectorFields || '').split(',');\n  }\n\n  @action\n  onSelectDateTime(dateTime) {\n    var formField = this.args.formField;\n    if (formField.dateRangeSettings) {\n      var rangePartner = this.args.formFields.findBy(\n        'fieldId',\n        formField.dateRangeSettings.rangePartnerFieldId,\n      );\n      if (rangePartner) {\n        if (rangePartner.dateRangeSettings.rangePosition === 'start') {\n          rangePartner.maxDate = dateTime;\n        } else if (rangePartner.dateRangeSettings.rangePosition === 'end') {\n          rangePartner.minDate = dateTime;\n        }\n      }\n    }\n    const formatted = dateTime\n      ? moment(dateTime)\n          .format(\n            `${this.args.formField.dateTimeFormat.replace(/S{1,}/, 'SSS')}`,\n          )\n          .toString()\n      : null; // TODO this must default simply to moment(dateTime).toDate() to accommodate ember attr 'date', and allow user to specify output function to override this when defining field.\n    this.args.updateFieldValue(formatted);\n  }\n}\n"],"names":["PowerDatepicker","Component","timeSelectorFields","args","formField","split","onSelectDateTime","dateTime","dateRangeSettings","rangePartner","formFields","findBy","rangePartnerFieldId","rangePosition","maxDate","minDate","formatted","moment","format","dateTimeFormat","replace","toString","updateFieldValue","n","prototype","action","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;;;;;AAKe,MAAMA,eAAe,SAASC,SAAS,CAAC;EACrD,IAAIC,kBAAkBA,GAAG;AACvB,IAAA,OAAO,CAAC,IAAI,CAACC,IAAI,CAACC,SAAS,CAACF,kBAAkB,IAAI,EAAE,EAAEG,KAAK,CAAC,GAAG,CAAC;AAClE;EAGAC,gBAAgBA,CAACC,QAAQ,EAAE;AACzB,IAAA,IAAIH,SAAS,GAAG,IAAI,CAACD,IAAI,CAACC,SAAS;IACnC,IAAIA,SAAS,CAACI,iBAAiB,EAAE;AAC/B,MAAA,IAAIC,YAAY,GAAG,IAAI,CAACN,IAAI,CAACO,UAAU,CAACC,MAAM,CAC5C,SAAS,EACTP,SAAS,CAACI,iBAAiB,CAACI,mBAC9B,CAAC;AACD,MAAA,IAAIH,YAAY,EAAE;AAChB,QAAA,IAAIA,YAAY,CAACD,iBAAiB,CAACK,aAAa,KAAK,OAAO,EAAE;UAC5DJ,YAAY,CAACK,OAAO,GAAGP,QAAQ;SAChC,MAAM,IAAIE,YAAY,CAACD,iBAAiB,CAACK,aAAa,KAAK,KAAK,EAAE;UACjEJ,YAAY,CAACM,OAAO,GAAGR,QAAQ;AACjC;AACF;AACF;AACA,IAAA,MAAMS,SAAS,GAAGT,QAAQ,GACtBU,MAAM,CAACV,QAAQ,CAAC,CACbW,MAAM,CACJ,CAAA,EAAE,IAAI,CAACf,IAAI,CAACC,SAAS,CAACe,cAAc,CAACC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAE,CAAA,CAChE,CAAC,CACAC,QAAQ,EAAE,GACb,IAAI,CAAC;AACT,IAAA,IAAI,CAAClB,IAAI,CAACmB,gBAAgB,CAACN,SAAS,CAAC;AACvC;AAAC,EAAA;IAAAO,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,kBAAA,EAAA,CAxBAC,MAAM,CAAA,CAAA;AAAA;AAyBT;AAACC,oBAAA,CAAAC,QAAA,EA9BoB3B,eAAe,CAAA;;;;"}