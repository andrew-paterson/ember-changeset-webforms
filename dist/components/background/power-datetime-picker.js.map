{"version":3,"file":"power-datetime-picker.js","sources":["../../../src/components/background/power-datetime-picker.js"],"sourcesContent":["import { action } from '@ember/object';\nimport Component from '@glimmer/component';\nimport keyCodesMap from '../../utils/keycodes-map.js';\nimport { tracked } from '@glimmer/tracking';\nimport moment from 'moment';\nimport 'ember-power-calendar/styles';\n\nexport default class PowerDatetimePicker extends Component {\n  @tracked center;\n  @tracked selectedDate;\n  @tracked defaultTime;\n  @tracked fixedTime;\n  @tracked dateTimeFormat;\n  @tracked dateTimeDisplayFormat;\n  @tracked timeSelectorFields;\n\n  get defaultHour() {\n    if (!this.args.defaultTime) {\n      return '00';\n    }\n    return this.args.defaultTime.split(':')[0] || '00';\n  }\n\n  get defaultMinute() {\n    if (!this.args.defaultTime) {\n      return '00';\n    }\n    return this.args.defaultTime.split(':')[1] || '00';\n  }\n\n  get defaultSecond() {\n    if (!this.args.defaultTime) {\n      return '00';\n    }\n    return this.args.defaultTime.replace('.', ':').split(':')[2] || '00';\n  }\n\n  get defaultMillisecond() {\n    if (!this.args.defaultTime) {\n      return '000';\n    }\n    return this.args.defaultTime.replace('.', ':').split('.')[3] || '000';\n  }\n\n  get fixedTimeParsed() {\n    if (!this.args.fixedTime) {\n      return null;\n    }\n    const fixedTime = this.args.fixedTime.replace('.', ':');\n    return {\n      HH: fixedTime.split(':')[0],\n      mm: fixedTime.split(':')[1] || '00',\n      ss: fixedTime.split(':')[2] || '00',\n      SSS: fixedTime.split(':')[3] || '000',\n    };\n  }\n\n  get navButtons() {\n    var allowNavigationOutOfRange = this.args.allowNavigationOutOfRange;\n    return {\n      nextMonth: allowNavigationOutOfRange || this.targetInRange(1, 'months'),\n      nextYear: allowNavigationOutOfRange || this.targetInRange(1, 'years'),\n      previousMonth:\n        allowNavigationOutOfRange || this.targetInRange(-1, 'months'),\n      previousYear:\n        allowNavigationOutOfRange || this.targetInRange(-1, 'years'),\n    };\n  }\n\n  get parsedDateTimeDisplayFormat() {\n    return this.args.dateTimeDisplayFormat || this.args.dateTimeFormat;\n  }\n\n  get showAmPmInput() {\n    return this.args.timeSelectorFields.filter((field) => field.startsWith('h'))\n      .length\n      ? true\n      : false;\n  }\n\n  get timeFormatParts() {\n    return this.args.timeSelectorFields\n      .map((item) => {\n        const obj = {\n          formatChar: item,\n          min: '0',\n        };\n        if (item.startsWith('h')) {\n          obj.min = '1';\n          obj.max = '12';\n          obj.label = this.args.timeInputLabels.hours;\n          obj.type = 'hour';\n        } else if (item.startsWith('H')) {\n          obj.max = '23';\n          obj.label = this.args.timeInputLabels.hours;\n          obj.type = 'hour';\n        } else if (item.startsWith('k')) {\n          obj.min = '1';\n          obj.max = '24';\n          obj.label = this.args.timeInputLabels.hours;\n          obj.type = 'hour';\n        } else if (item.startsWith('m')) {\n          obj.max = '59';\n          obj.label = this.args.timeInputLabels.minutes;\n          obj.type = 'minutes';\n        } else if (item.startsWith('s')) {\n          obj.max = '59';\n          obj.label = this.args.timeInputLabels.seconds;\n          obj.type = 'seconds';\n        } else if (item.startsWith('S')) {\n          obj.formatChar = 'SSS';\n          obj.max = '999';\n          obj.label = this.args.timeInputLabels.milliseconds;\n          obj.type = 'milliseconds';\n        }\n        return obj;\n      })\n      .filter((item) => item.label);\n  }\n\n  get parsedDatepickerPlaceholder() {\n    return this.args.datepickerPlaceholder || this.parsedDateTimeDisplayFormat;\n  }\n\n  get dateInputValue() {\n    if (!this.args.value) {\n      return null;\n    }\n    return moment(this.args.value, this.args.dateTimeFormat).format(\n      this.parsedDateTimeDisplayFormat,\n    );\n  }\n\n  validMoment(event) {\n    var parsedDateTimeDisplayFormat = this.parsedDateTimeDisplayFormat;\n    const value = event.target.value;\n    const strictDateFormat = parsedDateTimeDisplayFormat.replace(\n      /S{1,}/,\n      'SSSS',\n    ); // Using SSSS for the milisecond part of the format means that the input will be a valid moment object if the user enters more than 3 digits. The field will all but the first three.\n    if (!moment(value, strictDateFormat, true).isValid()) {\n      return null;\n    }\n    if (\n      moment(value, parsedDateTimeDisplayFormat).isBefore(\n        moment(this.args.minDate, 'YYYY-MM-DD'),\n      )\n    ) {\n      return null;\n    }\n    if (\n      moment(value, parsedDateTimeDisplayFormat).isAfter(\n        moment(this.args.maxDate, 'YYYY-MM-DD'),\n      )\n    ) {\n      return null;\n    }\n    return moment(value, parsedDateTimeDisplayFormat).toDate();\n  }\n\n  updateDate(selectedDate, currentDateTime) {\n    var currentHour = moment(currentDateTime).hour();\n    var currentMinute = moment(currentDateTime).minute();\n    var currentSecond = moment(currentDateTime).second();\n    var currentMillisecond = moment(currentDateTime).millisecond();\n    var newDateTime;\n    if (currentDateTime) {\n      newDateTime = moment(selectedDate)\n        .hour(currentHour)\n        .minute(currentMinute)\n        .second(currentSecond)\n        .millisecond(currentMillisecond)\n        .toDate();\n    } else {\n      newDateTime = moment(selectedDate)\n        .hour(this.defaultHour)\n        .minute(this.defaultMinute)\n        .second(this.defaultSecond)\n        .millisecond(this.defaultMillisecond)\n        .toDate();\n    }\n    return newDateTime;\n  }\n\n  updateTimeUnit(unit, value, currentDateTime) {\n    let newDateTime;\n    if (unit.startsWith('h')) {\n      if (\n        moment(currentDateTime, this.args.dateTimeFormat).format('a') ===\n          'pm' &&\n        parseInt(value) < 12\n      ) {\n        value = parseInt(value) + 12;\n      } else if (\n        moment(currentDateTime, this.args.dateTimeFormat).format('a') ===\n          'am' &&\n        parseInt(value) === 12\n      ) {\n        value = 0;\n      }\n      newDateTime = moment(currentDateTime, this.args.dateTimeFormat).hour(\n        value,\n      );\n    } else if (unit.startsWith('H')) {\n      newDateTime = moment(currentDateTime, this.args.dateTimeFormat).hour(\n        value,\n      );\n    } else if (unit.startsWith('m')) {\n      newDateTime = moment(currentDateTime, this.args.dateTimeFormat).minute(\n        value,\n      );\n    } else if (unit.startsWith('s')) {\n      newDateTime = moment(currentDateTime, this.args.dateTimeFormat).second(\n        value,\n      );\n    } else if (unit.startsWith('S')) {\n      newDateTime = moment(\n        currentDateTime,\n        this.args.dateTimeFormat,\n      ).millisecond(value);\n    } else if (unit.toLowerCase().startsWith('a')) {\n      if (\n        moment(currentDateTime, this.args.dateTimeFormat).format('a') !== value\n      ) {\n        const currentHour = moment(\n          currentDateTime,\n          this.args.dateTimeFormat,\n        ).hour();\n        let newHour;\n        if (value === 'am') {\n          newHour = currentHour - 12;\n        } else if (value === 'pm') {\n          newHour = currentHour + 12;\n        }\n        newDateTime = moment(currentDateTime, this.args.dateTimeFormat).hour(\n          newHour,\n        );\n      } else {\n        newDateTime = moment(currentDateTime, this.args.dateTimeFormat);\n      }\n    }\n    return newDateTime.toDate();\n  }\n\n  @action\n  onCenterChange(newDate) {\n    let newCenter = newDate.date ? newDate.date : newDate;\n    this.center = newCenter;\n  }\n\n  @action\n  didInsert() {\n    if (this.args.defaultDate) {\n      this.selectedDate = this.args.defaultDate;\n    }\n    if (this.args.defaultTime) {\n      this.selectedHour = this.defaultHour;\n      this.selectedMinute = this.defaultMinute;\n      this.selectedSecond = this.defaultSecond;\n    }\n    if (this.args.calendarStartMonth) {\n      const calendarStartDate = moment(\n        `01/${this.args.calendarStartMonth}`,\n        'DD/MM/YYYY',\n      );\n      this.calendarStartDate = calendarStartDate;\n    }\n\n    if (moment.isDate(this.args.value)) {\n      this.insertWithValue(this.args.value);\n    } else if (moment(this.args.value).isValid()) {\n      this.insertWithValue(\n        moment(this.args.value, this.args.dateTimeFormat).toDate(),\n      );\n    }\n\n    if (this.args.fixedTime && this.args.showTimeSelector) {\n      console.warn(\n        '[Ember Changeset Webforms] You have set showTimeSelector to true, but you have also passed fixedTime. fixedTime must be null in order to show the tine selector component.',\n      );\n    }\n  }\n\n  @action\n  insertWithValue(dateTime) {\n    this.center = dateTime;\n    if (this.fixedTimeParsed) {\n      for (const key in this.fixedTimeParsed) {\n        dateTime = this.updateTimeUnit(\n          key,\n          this.fixedTimeParsed[key],\n          dateTime,\n        );\n      }\n    }\n    this.selectedDate = dateTime;\n  }\n\n  @action\n  onDateInputChange(event) {\n    if (this.validMoment(event)) {\n      this.updateDateTime(this.validMoment(event));\n    } else {\n      event.target.value = this.dateInputValue;\n    }\n  }\n\n  @action\n  onDateInputKeyUp(event) {\n    const { keys } = keyCodesMap;\n    if (\n      event.keyCode !== keys.backspace &&\n      event.keyCode !== keys.delete &&\n      this.validMoment(event)\n    ) {\n      this.updateDateTime(this.validMoment(event));\n    }\n    if (this.args.onUserInteraction) {\n      this.args.onUserInteraction(\n        'keyUpDateTimeInput',\n        event.target.value,\n        event,\n      );\n    }\n  }\n\n  @action\n  checkDateInputFocus() {\n    if (this.dateInputFocussed) {\n      return false;\n    }\n    return true;\n  }\n\n  @action\n  onDateInputFocus(event) {\n    this.dateInputFocussed = true;\n    if (this.args.onUserInteraction) {\n      this.args.onUserInteraction(\n        'focusDateTimeInput',\n        event.target.value,\n        event,\n      );\n    }\n  }\n\n  @action\n  onDateInputBlur(event) {\n    this.dateInputFocussed = false;\n    if (this.args.onUserInteraction) {\n      this.args.onUserInteraction(\n        'blurDateTimeInput',\n        event.target.value,\n        event,\n      );\n    }\n  }\n\n  @action\n  clearDateTime() {\n    this.args.onSelectDateTime(null);\n    if (this.args.onUserInteraction) {\n      this.args.onUserInteraction('clearDateTime', this.args.value);\n    }\n  }\n\n  @action\n  dateClicked(dropdown, value) {\n    this.setDate(value.date);\n    if (this.args.closeDatePickerOnSelect) {\n      dropdown.actions.close();\n    }\n    if (this.args.onUserInteraction) {\n      this.args.onUserInteraction('dateSelected', value.date);\n    }\n  }\n\n  @action\n  setDate(selectedDate) {\n    var currentDateTime = this.args.value;\n    this.updateDateTime(this.updateDate(selectedDate, currentDateTime));\n  }\n\n  @action\n  setTime(unit, event) {\n    if (!event.target.value) {\n      return;\n    }\n    if (event.target.getAttribute('min') && event.target.getAttribute('max')) {\n      event.target.value = this.conformBounds(event.target.value, {\n        min: event.target.getAttribute('min'),\n        max: event.target.getAttribute('max'),\n        length: unit.length,\n      });\n    }\n    let value = event.target.value;\n    var currentDateTime = this.args.value;\n    const newDateTime = this.updateTimeUnit(unit, value, currentDateTime);\n\n    this.updateDateTime(newDateTime);\n  }\n\n  @action\n  onKeyDownTimeUnitInput(unit, event) {\n    const { keys } = keyCodesMap;\n    if (event.keyCode !== keys.arrowUp && event.keyCode !== keys.arrowDown) {\n      return;\n    }\n    let newValue;\n    let increment;\n    if (event.keyCode === keys.arrowUp) {\n      increment = 1;\n\n      if (event.shiftKey) {\n        increment = 10;\n      }\n      if (event.shiftKey && event.ctrlKey) {\n        increment = 100;\n      }\n      let initialValue = event.target.value ? parseInt(event.target.value) : 0;\n      newValue = initialValue += increment;\n    }\n    if (event.keyCode === keys.arrowDown) {\n      increment = 1;\n\n      if (event.shiftKey) {\n        increment = 10;\n      }\n      if (event.shiftKey && event.ctrlKey) {\n        increment = 100;\n      }\n      let initialValue = event.target.value ? parseInt(event.target.value) : 0;\n      newValue = initialValue = initialValue - increment;\n    }\n    if (!increment) {\n      return;\n    }\n    event.target.value = newValue;\n\n    this.setTime(unit, event);\n    if (this.args.onUserInteraction) {\n      this.args.onUserInteraction(\n        'keyDownTimeUnitInput',\n        event.target.value,\n        event,\n      );\n    }\n  }\n\n  @action\n  onKeyUpTimeUnitInput(unit, event) {\n    if (event.target.value.length >= unit.length) {\n      this.setTime(unit, event);\n    }\n    if (this.args.onUserInteraction) {\n      this.args.onUserInteraction(\n        'keyUpTimeUnitInput',\n        event.target.value,\n        event,\n      );\n    }\n  }\n\n  @action\n  onFocusInAmPm(event) {\n    event.target.value = '';\n    if (this.args.onUserInteraction) {\n      this.args.onUserInteraction('focusAmPmInput', event.target.value, event);\n    }\n  }\n\n  @action\n  onChangeAmPm(event) {\n    var currentDateTime = this.args.value;\n    const value = event.target.value.toLowerCase();\n    if (value !== 'am' && value !== 'pm') {\n      event.target.value = moment(\n        currentDateTime,\n        this.args.dateTimeFormat,\n      ).format('a');\n    }\n    this.setTime('a', event);\n  }\n\n  @action\n  onKeyUpAmPm(event) {\n    if (this.args.onUserInteraction) {\n      this.args.onUserInteraction('keyUpAmPmInput', event.target.value, event);\n    }\n    const { keys } = keyCodesMap;\n    const amKeyCodes = [keys.a, keys.arrowUp];\n    const pmKeyCodes = [keys.p, keys.arrowDown];\n    const clearKeyCodes = [keys.backspace, keys.delete];\n    if (event.keyCode === keys.m) {\n      if (event.target.value === 'amm') {\n        event.target.value = 'am';\n      }\n      if (event.target.value === 'pmm') {\n        event.target.value = 'pm';\n      }\n    }\n    if (amKeyCodes.indexOf(event.keyCode) > -1) {\n      event.target.value = 'am';\n    }\n    if (pmKeyCodes.indexOf(event.keyCode) > -1) {\n      event.target.value = 'pm';\n    }\n    if (clearKeyCodes.indexOf(event.keyCode) > -1) {\n      event.target.value = '';\n    }\n    if (event.target.value === 'am' || event.target.value === 'pm') {\n      this.setTime('a', event);\n    }\n  }\n\n  @action\n  updateDateTime(dateTime) {\n    this.center = dateTime;\n    if (this.fixedTimeParsed) {\n      for (const key in this.fixedTimeParsed) {\n        dateTime = this.updateTimeUnit(\n          key,\n          this.fixedTimeParsed[key],\n          dateTime,\n        );\n      }\n    }\n    this.selectedDate = dateTime;\n    this.args.onSelectDateTime(dateTime);\n  }\n\n  @action\n  onTriggerFocus() {\n    if (this.center) {\n      return;\n    }\n    var startDate = this.calendarStartDate || moment().toDate();\n    if (this.args.maxDate < moment().toDate()) {\n      startDate = this.args.maxDate;\n    }\n    if (\n      this.args.minDate > moment().toDate() ||\n      (this.args.minDate < moment().toDate() &&\n        this.args.maxDate < moment().toDate()) ||\n      (this.args.minDate > moment().toDate() &&\n        this.args.maxDate > moment().toDate())\n    ) {\n      startDate = this.args.minDate;\n    }\n    this.center = startDate;\n  }\n\n  @action\n  navigate(datepicker, span, units) {\n    if (\n      this.args.allowNavigationOutOfRange ||\n      this.targetInRange(span, units)\n    ) {\n      datepicker.actions.moveCenter(span, units);\n    }\n  }\n\n  @action\n  selectDay(datepicker, span, units) {\n    var targetDay;\n    var startOfVisibleMonth = moment(this.center).startOf('month').toDate();\n    var endOfVisibleMonth = moment(this.center).endOf('month').toDate();\n    var currentSelected = moment(this.selectedDate);\n    if (\n      this.selectedDate >= startOfVisibleMonth &&\n      this.selectedDate <= endOfVisibleMonth\n    ) {\n      targetDay = currentSelected.add(span, units);\n    } else {\n      targetDay = startOfVisibleMonth;\n    }\n    if (targetDay > this.args.maxDate) {\n      targetDay = this.args.maxDate;\n    }\n    if (targetDay < this.args.minDate) {\n      targetDay = this.args.minDate;\n    }\n    this.selectedDate = targetDay;\n    this.center = this.selectedDate;\n  }\n\n  @action\n  onTriggerKeydown(datepicker, e) {\n    if (e.keyCode === 13) {\n      this.setDate(this.selectedDate);\n      e.preventDefault();\n    }\n    if (e.keyCode === 39) {\n      if (e.metaKey) {\n        if (e.shiftKey) {\n          this.navigate(datepicker, 1, 'years');\n        } else {\n          this.navigate(datepicker, 1, 'months');\n        }\n      } else {\n        this.selectDay(datepicker, 1, 'days');\n      }\n      e.preventDefault();\n    }\n    if (e.keyCode === 37) {\n      if (e.metaKey) {\n        if (e.shiftKey) {\n          this.navigate(datepicker, -1, 'years');\n        } else {\n          this.navigate(datepicker, -1, 'months');\n        }\n      } else {\n        this.selectDay(datepicker, -1, 'days');\n      }\n      e.preventDefault();\n    }\n    if (e.keyCode === 40) {\n      if (!datepicker.isOpen) {\n        datepicker.actions.open();\n      } else {\n        this.selectDay(datepicker, 7, 'days');\n      }\n      e.preventDefault();\n    }\n    if (e.keyCode === 38) {\n      if (!datepicker.isOpen) {\n        datepicker.actions.open();\n      } else {\n        this.selectDay(datepicker, -7, 'days');\n      }\n      e.preventDefault();\n    }\n  }\n\n  targetInRange(span, units) {\n    var firstOfTargetMonth = moment(this.center)\n      .add(span, units)\n      .startOf('month')\n      .toDate();\n    var lastOfTargetMonth = moment(this.center)\n      .add(span, units)\n      .endOf('month')\n      .toDate();\n    if (\n      firstOfTargetMonth > this.args.maxDate ||\n      lastOfTargetMonth < this.args.minDate\n    ) {\n      return false;\n    }\n    return true;\n  }\n\n  conformBounds(value, opts) {\n    const int = parseInt(value);\n    const max = parseInt(opts.max);\n    const min = parseInt(opts.min);\n    if (int < min) {\n      return min.toLocaleString('en-US', {\n        minimumIntegerDigits: opts.length,\n        useGrouping: false,\n      });\n    } else if (int > max) {\n      return max;\n    }\n    return int.toLocaleString('en-US', {\n      minimumIntegerDigits: opts.length,\n      useGrouping: false,\n    });\n  }\n}\n"],"names":["PowerDatetimePicker","Component","g","prototype","tracked","i","void 0","defaultHour","args","defaultTime","split","defaultMinute","defaultSecond","replace","defaultMillisecond","fixedTimeParsed","fixedTime","HH","mm","ss","SSS","navButtons","allowNavigationOutOfRange","nextMonth","targetInRange","nextYear","previousMonth","previousYear","parsedDateTimeDisplayFormat","dateTimeDisplayFormat","dateTimeFormat","showAmPmInput","timeSelectorFields","filter","field","startsWith","length","timeFormatParts","map","item","obj","formatChar","min","max","label","timeInputLabels","hours","type","minutes","seconds","milliseconds","parsedDatepickerPlaceholder","datepickerPlaceholder","dateInputValue","value","moment","format","validMoment","event","target","strictDateFormat","isValid","isBefore","minDate","isAfter","maxDate","toDate","updateDate","selectedDate","currentDateTime","currentHour","hour","currentMinute","minute","currentSecond","second","currentMillisecond","millisecond","newDateTime","updateTimeUnit","unit","parseInt","toLowerCase","newHour","onCenterChange","newDate","newCenter","date","center","n","action","didInsert","defaultDate","selectedHour","selectedMinute","selectedSecond","calendarStartMonth","calendarStartDate","isDate","insertWithValue","showTimeSelector","console","warn","dateTime","key","onDateInputChange","updateDateTime","onDateInputKeyUp","keys","keyCodesMap","keyCode","backspace","delete","onUserInteraction","checkDateInputFocus","dateInputFocussed","onDateInputFocus","onDateInputBlur","clearDateTime","onSelectDateTime","dateClicked","dropdown","setDate","closeDatePickerOnSelect","actions","close","setTime","getAttribute","conformBounds","onKeyDownTimeUnitInput","arrowUp","arrowDown","newValue","increment","shiftKey","ctrlKey","initialValue","onKeyUpTimeUnitInput","onFocusInAmPm","onChangeAmPm","onKeyUpAmPm","amKeyCodes","a","pmKeyCodes","p","clearKeyCodes","m","indexOf","onTriggerFocus","startDate","navigate","datepicker","span","units","moveCenter","selectDay","targetDay","startOfVisibleMonth","startOf","endOfVisibleMonth","endOf","currentSelected","add","onTriggerKeydown","e","preventDefault","metaKey","isOpen","open","firstOfTargetMonth","lastOfTargetMonth","opts","int","toLocaleString","minimumIntegerDigits","useGrouping","setComponentTemplate","TEMPLATE"],"mappings":"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"}