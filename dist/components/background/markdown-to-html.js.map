{"version":3,"file":"markdown-to-html.js","sources":["../../../src/components/background/markdown-to-html.js"],"sourcesContent":["import { tracked } from '@glimmer/tracking';\nimport Component from '@glimmer/component';\nimport MarkdownIt from 'markdown-it';\nimport { htmlSafe } from '@ember/template';\n\nconst md = new MarkdownIt({});\nexport default class MarkdownToHtml extends Component {\n  @tracked source;\n\n  get html() {\n    const element = document.createElement('div');\n    element.innerHTML = md.renderInline(this.args.source);\n    var links = element.querySelectorAll('a');\n    for (var link of Array.from(links)) {\n      if (\n        link.hostname !== window.location.hostname &&\n        !link.getAttribute('href').startsWith('#')\n      ) {\n        link.target = '_blank';\n        link.rel = 'noopener noreferrer';\n      }\n    }\n    return htmlSafe(element.innerHTML);\n  }\n}\n"],"names":["md","MarkdownIt","MarkdownToHtml","Component","g","prototype","tracked","i","void 0","html","element","document","createElement","innerHTML","renderInline","args","source","links","querySelectorAll","link","Array","from","hostname","window","location","getAttribute","startsWith","target","rel","htmlSafe","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;;;;;AAKA,MAAMA,EAAE,GAAG,IAAIC,UAAU,CAAC,EAAE,CAAC;AACd,MAAMC,cAAc,SAASC,SAAS,CAAC;AAAA,EAAA;IAAAC,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,QAAA,EAAA,CACnDC,OAAO,CAAA,CAAA;AAAA;AAAA,EAAA,OAAA,IAAAC,CAAA,CAAA,IAAA,EAAA,QAAA,CAAA,EAAAC,SAAA;EAER,IAAIC,IAAIA,GAAG;AACT,IAAA,MAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;AAC7CF,IAAAA,OAAO,CAACG,SAAS,GAAGb,EAAE,CAACc,YAAY,CAAC,IAAI,CAACC,IAAI,CAACC,MAAM,CAAC;AACrD,IAAA,IAAIC,KAAK,GAAGP,OAAO,CAACQ,gBAAgB,CAAC,GAAG,CAAC;IACzC,KAAK,IAAIC,IAAI,IAAIC,KAAK,CAACC,IAAI,CAACJ,KAAK,CAAC,EAAE;MAClC,IACEE,IAAI,CAACG,QAAQ,KAAKC,MAAM,CAACC,QAAQ,CAACF,QAAQ,IAC1C,CAACH,IAAI,CAACM,YAAY,CAAC,MAAM,CAAC,CAACC,UAAU,CAAC,GAAG,CAAC,EAC1C;QACAP,IAAI,CAACQ,MAAM,GAAG,QAAQ;QACtBR,IAAI,CAACS,GAAG,GAAG,qBAAqB;AAClC;AACF;AACA,IAAA,OAAOC,QAAQ,CAACnB,OAAO,CAACG,SAAS,CAAC;AACpC;AACF;AAACiB,oBAAA,CAAAC,QAAA,EAlBoB7B,cAAc,CAAA;;;;"}