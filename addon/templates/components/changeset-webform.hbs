<form {{action "submit" on="submit"}} class={{formValidationClass}} novalidate={{formSettings.novalidate}}>
  <div class="form-section form-fields">
    {{#each changesetWebform.fields as |formField|}}
      <EmberChangesetWebforms::FieldElements::ValidatingField
        @processedFieldSchema={{formField}}
        @changesetWebform={{changesetWebform}}
        @dataTestFormName={{formSettings.dataTestFormName}}
        @afterAddClone={{afterAddClone}}
        @afterClickAddCloneButton={{afterClickAddCloneButton}}
        @afterRemoveClone={{afterRemoveClone}}
        @changesetProp={{changesetWebform.changeset}}
        @formSettings={{formSettings}}
        @formFields={{changesetWebform.fields}}
        @submitForm={{action "submit" changesetWebform.changeset formSettings.modelName}}
        @afterFieldValidation={{action "afterFieldValidation"}}
        @afterFieldEdit={{action "afterFieldEdit"}}
        @onUserInteraction={{action "onUserInteraction"}}
      />
    {{/each}}
  </div>
  {{yield}}
  <div class="form-section form-submit">
    {{#unless formSettings.hideSubmitButton}}
      <EmberChangesetWebforms::FormElements::FormSubmitButton @click={{action "submit" changesetWebform formSettings.modelName}} @value={{formSettings.submitButtonText}} @requestInFlight={{requestInFlight}} @data-test-id="ember-changeset-webforms-submit-form-button" @disabled={{formSettings.submitDisabled}} @formSettings={{formSettings}} />
    {{/unless}}
    {{#if formSettings.showDiscardChangesButton}}
      <button class={{formSettings.showDiscardChangesButtonClasses}} type="button" data-test-id="ember-changeset-webforms-reset-form-button" onclick={{action "discardChanges" changesetWebform.changeset}}>{{formSettings.showDiscardChangesButtonTetx}}</button>
    {{/if}}
    {{#if formSettings.showClearFormButton}}
      <button class={{formSettings.clearFormButtonClasses}} type="button" data-test-id="ember-changeset-webforms-reset-form-button" {{action "clearForm"}}>{{formSettings.clearFormButtonText}}</button>
    {{/if}}
  </div>
</form>