{{#component
  this.componentName
  triggerClass=(concat
    "validation-area "
    (ember-changeset-webforms/dynamic-class-names
      "powerSelectTrigger" @changesetWebform @formField
    )
  )
  options=@formField.options
  selected=(changeset-get @changesetWebform.changeset @formField.propertyName)
  searchPlaceholder=(or @formField.searchPlaceholder "Search")
  searchField=@formField.optionDisplayProp
  allowClear=this.allowClear
  searchEnabled=@formField.searchEnabled
  placeholder=@formField.placeholder
  onChange=(action "onChange" @formField)
  onKeydown=(action "onKeydown" @formField)
  onclose=@onclose
  triggerId=@formField.name
  disabled=@formField.disabled
  matcher=@formField.matcher
  selectedItemComponent=(component @formField.selectedItemComponent)
  as |option|
}}
  {{#if @formField.optionComponent}}
    {{#if @formField.optionComponent.path}}
      {{component
        @formField.optionComponent.path
        props=@formField.optionComponent.props
        option=option
      }}
    {{else}}
      {{component @formField.optionComponent option=option}}
    {{/if}}
  {{else}}
    <Background::PowerSelectOption
      @option={{option}}
      @optionDisplayProp={{@formField.optionDisplayProp}}
      @fieldId={{@formField.fieldId}}
      @optionName={{if
        @formField.optionDisplayProp
        (get option @formField.optionDisplayProp)
        option
      }}
    />
  {{/if}}
{{/component}}